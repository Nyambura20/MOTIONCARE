# MotionCare

AI-Powered Personalized Recovery Care using Genkit & Vertex AI

Version: 2.0
Updated: 2025-11-27

## Short Summary

MotionCare helps patients recovering from injury, surgery, or chronic mobility conditions with adaptive, AI-driven rehabilitation: personalized plans, video-based movement coaching, real-time pose analysis, and intelligent exercise feedback.

## Screenshots

### 1. AI-Generated Personalized Exercise Plan
![Exercise Plan](docs/screenshots/exercise-plan.png)
*4-week progressive rehabilitation plan generated by Gemini 2.0 via Vertex AI based on injury analysis and conversation context*

### 2. Real-Time Pose Detection & Skeleton Tracking
![Pose Detection](docs/screenshots/pose-detection.png)
*MediaPipe Pose detection with 33 landmark tracking for biomechanical analysis*

### 3. Anatomical Focus Visualization
![Focus Images](docs/screenshots/focus-images.png)
*AI-generated anatomical diagrams using Vertex AI Imagen 3.0 for patient education*

### 4. Exercise Form Analysis & Feedback
![Form Feedback](docs/screenshots/form-feedback.png)
*AI-powered biomechanical assessment with detailed feedback on exercise technique (78% performance score)*

## MVP Features

- Patient authentication (signup → login flow with welcome modal)
- Photo-based injury analysis using Vertex AI Vision
- Turn-based AI chatbot for injury assessment (3-phase conversation)
- AI-generated personalized exercise plans
- Real-time pose detection with MediaPipe
- Exercise form analysis with biomechanical feedback
- Focus image generation using Imagen 3.0

## Tech Stack

- **Frontend**: React 18.2 + Vite, Tailwind CSS, Zustand (state management)
- **Backend**: Express 4.21, Node.js
- **AI Framework**: **Genkit 1.24.0** with Vertex AI plugin
- **AI Models**: 
  - **Gemini 2.0 Flash (Experimental)** via Vertex AI for all LLM tasks
  - **Imagen 3.0 Nano Banana** via Vertex AI for focus image generation
- **Computer Vision**: MediaPipe Pose 0.5 (JavaScript SDK)
- **Cloud Platform**: Google Cloud Vertex AI (Project: gen-lang-client-0891331347)

## Repository Layout

- `apps/web/` — React PWA (Vite) + Express Backend with Genkit Flows
  - `src/` — React components, pages, services, state management
  - `server/` — Express server with Genkit flows and Vertex AI integration
    - `genkit-flows.js` — 4 Genkit flows for AI features
    - `imagen-api.js` — Vertex AI Imagen 3.0 wrapper
    - `index.js` — Express server with API endpoints

## Getting Started

### Prerequisites
- Node.js >= 18
- Google Cloud Vertex AI credentials (`vertex-ai-key.json`)

### Installation

1. Clone the repo:
   ```bash
   cd motioncare
   ```

2. Install dependencies:
   ```bash
   npm install
   cd apps/web && npm install
   ```

3. Add Vertex AI credentials:
   - Place `vertex-ai-key.json` in `apps/web/` directory
   - Ensure it has Vertex AI API access enabled

4. Start the development servers:
   ```bash
   # Terminal 1: Backend (port 3001)
   cd apps/web && npm run server
   
   # Terminal 2: Frontend (port 5173)
   cd apps/web && npm run dev
   ```

5. Open http://localhost:5173

## Genkit Flows

See `GENKIT_VERTEX_AI_INTEGRATION.md` for comprehensive documentation on:
- Architecture diagrams
- All 4 Genkit flows (analyzeInjuryFlow, chatFlow, generateExercisePlanFlow, analyzeExerciseFormWithPoseFlow)
- API endpoint specifications
- Testing instructions
- Vertex AI configuration

## Project Structure

This project uses **Genkit + Vertex AI** exclusively for all AI functionality:
- ✅ All AI models accessed via Vertex AI
- ✅ All AI logic implemented as Genkit flows
- ✅ Clean separation: Genkit flows (AI logic) + Express (HTTP layer)
- ✅ Imagen 3.0 via Vertex AI REST API

## License

See `LICENSE`.
